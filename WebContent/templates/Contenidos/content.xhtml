<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
      
<div>     
<h:form>
    <p:growl id="msgs" showDetail="true" />
    <p:panel header="Buscar por categoria">
            <p:selectOneMenu id="categoria" value="#{searchController.categoria}">
                <f:selectItems value="#{homeController.categorias}" />
            </p:selectOneMenu>
        <p:commandButton value="Buscar" update="msgs" action="#{searchController.buscarCategoria}" icon="ui-icon-check" />
    </p:panel>
</h:form>
  
	   <div>
			<b:container fluid="true" style="width:90%; margin:auto;">
				<b:carousel id="tiovivo" style="width:90%;margin:auto; " interval="1500">
					  <b:carouselItem >
					    <img src="/Mostar/images/infinity.jpg" alt="Valladolid" style="width: 100%; height: 500px" />
					    <b:carouselCaption>
					     </b:carouselCaption>
					  </b:carouselItem>
					  <b:carouselItem >
					    <img src="/Mostar/images/Deadpool 2.jpg" alt="Valladolid" style="width: 100%; height: 500px" />
					    <b:carouselCaption>
					     </b:carouselCaption>
					  </b:carouselItem>
					  <b:carouselItem >
					    <img src="/Mostar/images/Pantera Negra.jpg" alt="Valladolid" style="width: 100%; height: 500px" />
					    <b:carouselCaption>
					     </b:carouselCaption>
					  </b:carouselItem>
					  <b:carouselItem >
					    <img src="/Mostar/images/Toc toc.jpg" alt="Valladolid" style="width: 100%; height: 500px" />
					    <b:carouselCaption>
					     </b:carouselCaption>
					  </b:carouselItem>
				</b:carousel>
			</b:container>
	    </div>
	</div>	    
	   
	    <b:panel title="Estrenos" look="success">
		  
		  <h:form>
		    <p:dataList value="#{homeController.ultimas_peliculas}" var="pelicula" type="definition">
		    	<b:container>
		    	 <p:panel header="#{pelicula.name}" style="margin-bottom:20px">
		        	<b:image class="contentImage" style="width:50%" name="{pelicula.name}.imagen" value="#{pelicula.ruta_imagen}"  tooltip="#{pelicula.name}" tooltipPosition="auto" />
		    		<h:outputText value="   #{pelicula.descripcion}"/>
		    		<br></br><br></br>
		    		<h:commandButton value="Ver esta pelicula »" look="success" action="#{videoController.verPelicula}" actionListener="#{videoController.getPeliculaElejida}">
		    		<f:attribute name="pelicula_elejida" value="#{pelicula.name}" />
		    		</h:commandButton>
		    	 </p:panel>
		    	</b:container>
	   		</p:dataList>
   		</h:form>
   		
		</b:panel>
		
		<b:panel title="Proximos eventos" look="warning">
		
		<h:form>
		    <p:dataList value="#{homeController.eventos}" var="evento" type="definition">
		    	<b:container>
		    	 <p:panel header="#{evento.name}" style="margin-bottom:20px">
		        	<b:image class="contentImage" style="width:50%" name="{evento.name}.imagen" value="#{evento.ruta_imagen}"  tooltip="#{evento.name}" tooltipPosition="auto" />
		    		<h:outputText value="#{pelicula.descripcion}"/>
		    		<h:outputText value="Programado a emitir en: #{homeController.contentDateToString(evento)}"/>
		    		<br></br><br></br>
		    		<h:commandButton value="Ver este evento »" look="success" action="#{homeController.verStream}" actionListener="#{videoController.getPeliculaElejida}">
		    		<f:attribute name="pelicula_elejida" value="#{evento.name}" />
		    		</h:commandButton>
		    		<h:commandButton value="Registrarse »" look="success" actionListener="#{videoController.registrarseEnEvento}">
		    		<f:attribute name="evento_elejido" value="#{evento.name}"/>
		    		</h:commandButton>
		    	 </p:panel>
		    	</b:container>
	   		</p:dataList>
   		</h:form>
		  
		</b:panel>	

</html>


