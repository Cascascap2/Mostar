<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
	  xmlns:ui="http://java.sun.com/jsf/facelets">

	<p:growl id="header_growl" showDetail="true"/>  

	<b:navBar brand="Mostar" outcome="login" fluid="true" brandHref="home.xhtml" inverse="true" >
		  
		  <h:form class="navbar-form navbar-left hidden-md hidden-sm hidden-xs" role="search" id="search">
			  <div class="form-group" style="margin: auto;" >
			    <p:inputText id="txt1" value="#{searchController.busqueda}" required="true" label="Buscada: "></p:inputText>
			    <br></br>
			  </div>
			  <p:commandButton type="submit" class="btn btn-success" update="txt1" value="Buscar" action="#{searchController.busquedaGeneral}"></p:commandButton>
		  </h:form>
		  
		 <b:navbarLinks pull="right" styleClass="hidden-xs" name="clientheader" rendered="#{userController.permissionId == 1}">
		 	<b:navLink value="Mis Favoritos" id="favoritos" outcome="favoritos" actionListener="#{userController.updateFavoritos}"></b:navLink>
		</b:navbarLinks>
	 	<b:navbarLinks pull="right" styleClass="hidden-xs" name="loginOff" rendered="#{not userController.logged}">
		    <b:navLink value="Iniciar Sesion" id="login" outcome="login"></b:navLink>
		    <b:navLink value="Registrarme" id="register" outcome="register"></b:navLink>
		</b:navbarLinks>
		<b:navbarLinks pull="right" styleClass="hidden-xs" name="loginOn" >
		    <b:navLink value="Notificaciones" id="notification" rendered="#{userController.logged}"></b:navLink>
		    <b:navLink value="Borrar Usuarios" id="DelUser" rendered="#{userController.logged}" outcome="BorrarUser"></b:navLink>
		    <b:navLink value="Modificar Usuarios" id="ModUser" rendered="#{userController.logged}" outcome="ModifUser"></b:navLink>
		    <b:navLink value="Pagar Suscripcion" id="payment" outcome="suscripcion" rendered="#{userController.logged}"></b:navLink>
		     <b:dropMenu value="Cuenta" id="cuenta" rendered="#{userController.logged}" >
			      <b:navLink value="Billetera" outcome="billetera"></b:navLink>
			      <b:navLink value="Perfil"  outcome="profile"></b:navLink>
			      <h:form>
			      	<h:commandLink value="Cerrar Sesion" action="#{userController.cerrarSession}"></h:commandLink>
			      	<p:commandButton value="Test evento" update="header_growl" action="#{userController.testAviso}"></p:commandButton>
			      </h:form>
			 </b:dropMenu>
	  </b:navbarLinks>
	</b:navBar>

</html>
